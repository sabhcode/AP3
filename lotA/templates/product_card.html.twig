{% set hasProduct = product is defined %}
{% set hasQuantity = quantity is defined %}

{% if hasProduct %}
    <div {{ hasQuantity ? 'id=' ~ product.getUuid() }}  class="product_card">
        <img class="product_card-image" src="/media/images/product/{{ product.getUuid() }}/{{ product.getImage() }}" alt="Image">
        <p class="product_card-name">{{ product.getName() }}</p>
        {% if hasQuantity %}
            <p class="product_card-quantity">x<span class="product_card-quantity_value">{{ quantity }}</span></p>
        {% endif %}
        <p class="product_card-price">{{ cart.formatPrice(product.getUnitPrice() * (quantity ?? 1)) }}</p>
        <div class="product_card-buttons">
            {% if hasQuantity %}
                <button href="{{ path('app_cart') }}" class="update-product-cart" data-productUuid="{{ product.getUuid() }}" data-action="add">â•</button>
                <button class="update-product-cart" data-productUuid="{{ product.getUuid() }}" data-action="remove">â–</button>
            {% endif %}
            <a href="{{ path('app_product', {'slug' : product.getSlug()}) }}">ğŸ‘€</a>
            {% if hasQuantity %}
                <button class="update-product-cart" data-productUuid="{{ product.getUuid() }}" data-action="delete">âŒ</button>
            {% else %}
                <button class="update-product-cart" data-productuuid="{{ product.getUuid() }}" data-action="add">ğŸ›’</button>
            {% endif %}
        </div>
        {% set stock = (product.getStocks() is not empty ? "check" : "not-check") %}
        <p class="product_card-stock">
            Stock
            <img src="{{ asset('media/images/base/' ~ stock ~ '.svg') }}">
        </p>
    </div>
{% endif %}
