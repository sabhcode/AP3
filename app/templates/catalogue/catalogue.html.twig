{% extends 'base.html.twig' %}

{% block title %}Catalogue
{% endblock %}

{% block body %}
<h1>Catalogue</h1>

<!-- Barre de recherche -->
<div class="search-bar">
	<input type="text" id="search-input" placeholder="Rechercher un produit" style="color:black;">
	<select id="category-filter">
		<option class="select-category" value="">Toutes catégories</option>
		<!-- Boucle pour afficher les options de catégorie -->
		{% for category in categories %}
			<option value="{{ category.getName() }}">{{ category.getName() }}</option>
		{% endfor %}
	</select>
	<button id="search-button">🔍</button>
</div>

<ul>
	<!-- Boucle pour afficher les catégories -->
	{% for category in categories %}
		<li>
			<h4 class="category-name">
				<a href="{{ path('category_detail', {'categoryId': category.getUuid()}) }}">{{ category.getName() | upper }}</a>
			</li>
		</li>
		<li></li>
	</h4>
	<ul>
		class="products-list">
		<!-- Boucle pour afficher les produits de chaque catégorie -->
		{% for product in category.getProducts() %}
			<div class="card">
				<img src="/media/images/product/{{ product.getUuid() }}/{{ product.getImage() }}" alt="Image">
				<h3>{{ product.getName() }}</h3>
				<p class="product-price">{{ product.getPrice() }}
					💲</p>
				<div class="buttons-card">
					<button>
						<a href="{{ path('app_product', {product : product.uuid}) }}">👀</a>
					</button>
					<button>
						<a href="">🛒</a>
					</button>
				</div>
			</div>
		{% endfor %}
	</ul>
</li>{% endfor %}</ul><link rel="stylesheet" href="{{ asset('css/catalogue.css') }}"><script>{% endblock %}
